> 今天完全依赖云开发的博客小程序审核通过了，虽然目前只实现了最最基础的文章列表和详情两个页面，但还是想提前分享出来，对于有需要的人可以自行下载。

## 关于数据源

对于完全依赖云开发的博客来说，文章的发布还是比较麻烦的，毕竟不能在小程序上直接写文章吧，效率太低，所以我利用公众号作为的文章数据源，利用云函数写了个定时同步的方法「当然你也可以修改这个云函数，替换成你的文章数据源，比如`github`，`wordpress`等」。

这里说明下，这款小程序只是利用文章的数据源，后期开发的评论，分享等其他所有功能，完全基于云数据库，和其他后端完全没有关系。

代码中已经实现将公众号文章同步至云函数，具体实现可以参考源代码和[[博客小程序]公众号文章同步至云数据库实现](https://www.bug2048.com/wechat20190421/)这篇文章。

## 关于选型

本人主要做后端开发，所以对于前端基础还是相对薄弱的，由于第一个小程序时纯原生的方式写的，本来想尝试使用`mpvue`或者`taro`的，但由于近期确实比较忙，所以目前小程序还是以原生的方式进行开发。

对于UI框架，已经放弃`zanui`，而是选择了`color UI`「纯css类的UI组件库，比较酷炫」

对于解析富文本，已经放弃`wxParse`「多年没维护了，问题很多，且解析出来的样式不是特别美观」，而是选择了`towxml`「支持markdown和html，解析较为全面，样式美观，支持云端解析，但是体积有点大」

## 关于使用

如果你有公众号，可以参考以下步骤进行配置。

首先到github上下载对应的源码「源码地址在文末」。
通过微信开发者工具进行加载。

然后登陆到云开发控制台，若没有开通可根据提示进行开通：

![image](http://image.bug2048.com/1556458004278.jpg)

切换至云数据库新增`access_token`和`mini_posts`两个集合。

![image](http://image.bug2048.com/1556458129707.jpg)

右击上传所有的云函数：

![image](http://image.bug2048.com/1556458261691.jpg)

配置公众号的`AppId`和`AppSecret`，可以去你的公众号设置中找到，用于同步你的公众号文章。

![image](http://image.bug2048.com/1556458377424.jpg)

配置完成后可以手动执行一次`adminService`这个云函数，正常情况下文章会同步至云数据库中。

或者右击`adminService`函数，上传对应的触发器，等待函数自动触发进行同步。

不出意外的话，小程序就可以正常展示了：

![image](http://image.bug2048.com/WechatIMG67.jpeg)

## 最后

目前只是完成了最简单的文章展示，后面会慢慢迭代，将博客中该有的功能进行补全。

最后贴下自己的小程序二维码：

![image](http://image.bug2048.com/gh_660886427113_344.jpg)


> 博客地址：[http//:www.bug2048.com](https://www.bug2048.com/) 
> 微信公众号与微信：Bug生活2048

![image](https://www.bug2048.com//content/images/2018/02/qrcode_for_gh_cac1ef8c9733_258.jpg)

![image](http://image.bug2048.com/WechatIMG2.jpeg?imageView2/1/w/200/h/200/q/100)

